<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Student Crew - Settings</title>
  <link rel="stylesheet" href="settings.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body class="login-page">

  <div class="glow-bg"></div>

  <!-- Floating Profile Icon -->
  <div class="profile-icon" onclick="toggleProfileMenu()"></div>
  <div class="profile-menu" id="profileMenu">
    <a href="profile.html">Profile</a>
    <a href="history.html">History</a>
    <a href="settings.html">Settings</a>
    <a href="friends.html">Friends</a>
    <a href="coins.html">Coins</a>
    <a href="index.html">Logout</a>
  </div>

  <div class="login-container" style="max-width: 600px;">
    <h1>Settings</h1>
    <p>Update your preferences</p>

    <!-- Toggle Switches -->
    <div class="toggle-group">
      <label for="darkModeToggle">Enable Dark Mode</label>
      <label class="switch">
        <input type="checkbox" id="darkModeToggle">
        <span class="slider round"></span>
      </label>
    </div>

    <div class="toggle-group">
      <label for="notificationsToggle">Enable Notifications</label>
      <label class="switch">
        <input type="checkbox" id="notificationsToggle">
        <span class="slider round"></span>
      </label>
    </div>

    <!-- Profile Picture -->
    <div class="form-group">
      <label for="profile-pic" class="upload-label">Upload Profile Picture</label>
      <input type="file" id="profile-pic" class="hidden" accept="image/*" onchange="previewProfilePic(event)" />
      <div class="profile-pic-preview" id="profile-pic-preview">
        <img id="profilePicImg" src="https://www.w3schools.com/howto/img_avatar.png" alt="Profile Picture" />
      </div>
    </div>

    <!-- Settings Form -->
    <div class="form-group">
      <input type="text" id="username" placeholder="Username" />
    </div>
    <div class="form-group">
      <input type="email" id="email" placeholder="Email" />
    </div>
    <div class="form-group">
      <input type="password" id="password" placeholder="New Password" />
    </div>

    <button onclick="saveSettings()">Save Changes</button>
    <div id="confirmation-message" class="no-history hidden">Settings saved successfully!</div>

    <!-- Back Button -->
    <div class="btn-group" style="margin-top: 30px;">
      <button onclick="goBack()">‚Üê Back</button>
    </div>
  </div>

  <script>
    function toggleProfileMenu() {
      const menu = document.getElementById("profileMenu");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    function previewProfilePic(event) {
      const img = document.getElementById("profilePicImg");
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = e => img.src = e.target.result;
        reader.readAsDataURL(file);
      }
    }

    function saveSettings() {
      document.getElementById("confirmation-message").classList.remove("hidden");
      setTimeout(() => {
        document.getElementById("confirmation-message").classList.add("hidden");
      }, 3000);
    }

    document.getElementById("darkModeToggle").addEventListener("change", function () {
      document.body.classList.toggle("dark-mode", this.checked);
    });

    function goBack() {
      window.history.back();
    }
  </script>

</body>
</html>
